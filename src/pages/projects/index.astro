---
import { getCollection } from "astro:content";
import Paper from "../../components/Paper.astro";
import ProjectCard from "../../components/ProjectCard.astro";
import Layout from "../../layouts/Layout.astro";

const projects = await getCollection("project").then((projects) => {
  return projects.sort((a, b) => {
    return new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf();
  });
});
---

<Layout title="Projects" description="Peterle Pedro's personal projects">
  <Paper title="Projects">
    {projects.map((project) => <ProjectCard project={project} />)}
  </Paper>
</Layout>
